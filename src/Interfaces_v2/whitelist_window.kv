#:import Toolbar kivymd.toolbar.Toolbar
#:import MDCard kivymd.card.MDCard
#:import MDList kivymd.list.MDList
#:include nav_drawer.kv
<whitelist_window>:
    BoxLayout:
        orientation: 'vertical'
        Toolbar:
            id: toolbar
            title: 'Defendr'
            background_color: app.theme_cls.primary_dark
            left_action_items: [['menu', lambda x: app.nav_drawer.toggle()]]
        GridLayout:
            cols:2
            padding: '45dp'
            spacing: '10dp'
            GridLayout:
                cols:2
                size_hint_x: 0.7
                padding_y:['30dp','30dp']
                padding_x:['60dp','60dp']
                spacing: '5dp'
                row_force_default: 1
                row_default_height: '50dp'
                GridLayout:
                    cols:2
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_x: 0.5
                        spacing: '30dp'
                        MDLabel:
                            theme_text_color: 'Primary'
                            text: "IP Whitelist"
                            font_size: 22
                            halign: 'left'
                            size_hint_x:0.4
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint_y: None
                            height: '40dp'
                            spacing: '20dp'
                            TextInput:
                                id: txt_ip_addr
                                multiline:False
                                font_size: 18
                                size_hint_x:0.8
                                hint_text: 'IP Address'
                            Button:
                                text: 'Add'
                                font_size: 22
                                size_hint_x:0.2
                                on_release: root.add_IP(txt_ip_addr.text)
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_x: 0.5
            GridLayout:
                rows: 2
                padding: '10dp'
                spacing: '5dp'
                size_hint_x: 0.3
                BoxLayout:
                    orientation: 'horizontal'
                    id: ip_table
                    size_hint_y:0.90
                BoxLayout:
                    orientation: 'horizontal'
                    padding: '10dp'
                    spacing: '10dp'
                    Button:
                        text: 'Remove IP'
                        size_hint_x:None
                        width:'125dp'
                        size_hint_y:0.1
                        font_size: 16
                    Button:
                        text: 'Refresh'
                        size_hint_x:None
                        width:'125dp'
                        size_hint_y:0.1
                        font_size: 16
                        on_press: root.add_table(ip_table,[{'IP':'10.0.0.10'}])