#:include home.kv
#:include register.kv

<login>:
    on_pre_enter: root.resetForm()
    GridLayout:
        rows: 3
        Label:
            size_hint_y:0.25
        GridLayout:
            size_hint_y:0.5
            cols: 3
            Label:
                size_hint_x:0.25
            MDCard:
                size_hint_x:0.5
                spacing: '15dp'
                padding: '10dp'
                BoxLayout
                    id: login_layout
                    GridLayout:
                        rows:9
                        spacing: '15dp'
                        MDLabel:
                            theme_text_color: 'Primary'
                            text: "Defendr Login"
                            font_size: 34
                            size_hint_y: 0.18
                            halign: 'center'
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint_y: 0.04
                            MDLabel:
                                size_hint_x: 0.1
                            MDIconButton:
                                id: btn_info
                                visible: False
                                opacity: 1 if self.visible else 0
                                disabled: not self.visible
                                icon: 'info'
                                size_hint_x: 0.1
                            MDLabel:
                                id: lbl_error
                                theme_text_color: 'Primary'
                                size_hint_x: 0.8
                                color: 1,0,0,1
                                text: ''
                                font_size: 14
                                halign: 'left'
                        Label:
                            size_hint_y: 0.04
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint_y: 0.08
                            Label:
                                size_hint_x: 0.2
                            MDLabel:
                                theme_text_color: 'Primary'
                                text: 'Email:'
                                font_size: 24
                                halign: 'left'
                                size_hint_x: 0.6
                            Label:
                                size_hint_x: 0.2
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint_y: 0.16
                            Label:
                                size_hint_x: 0.2
                            TextInput:
                                id: txt_login_email
                                multiline:False
                                font_size: 16
                                size_hint_x: 0.6
                            Label:
                                size_hint_x: 0.2
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint_y: 0.08
                            Label:
                                size_hint_x: 0.2
                            MDLabel:
                                theme_text_color: 'Primary'
                                text: 'Password:'
                                font_size: 24
                                halign: 'left'
                                size_hint_y: 0.08
                                size_hint_x: 0.6
                            Label:
                                size_hint_x: 0.2
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint_y: 0.16
                            Label:
                                size_hint_x: 0.2
                            TextInput:
                                id: txt_login_password
                                multiline:False
                                password: True
                                font_size: 16
                                size_hint_x: 0.6
                            Label:
                                size_hint_x: 0.2
                        Label:
                            size_hint_y: 0.08
                        GridLayout:
                            cols: 3
                            spacing: '20dp'
                            size_hint_y: 0.18
                            Label:
                                size_hint_x: 0.4
                            Button:
                                text: 'Register'
                                font_size: 20
                                size_hint_x: 0.3
                                on_release: app.nav_to('register')
                            Button:
                                text: 'Login'
                                font_size: 20
                                size_hint_x: 0.3
                                on_press: root.do_login(txt_login_email.text, txt_login_password.text)
            Label:
                size_hint_x:0.25
        GridLayout:
            size_hint_y:0.25
            cols: 3
            Label
            Label
            GridLayout:
                rows: 3
                Label
                Label
                Image:
                    source: 'images/advance.png'